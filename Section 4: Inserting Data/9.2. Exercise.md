## üè¢ Building a Real-World Employee Database

---

## üìã The Assignment

### üéØ **Create an `employees` table with these specifications:**

| Column | Data Type | Constraints | Notes |
|--------|-----------|-------------|-------|
| üÜî **id** | INT | PRIMARY KEY, AUTO_INCREMENT | Unique identifier |
| üë§ **last_name** | VARCHAR(100) | NOT NULL | Required field |
| üë§ **first_name** | VARCHAR(100) | NOT NULL | Required field |
| üë§ **middle_name** | VARCHAR(100) | (optional) | Can be NULL |
| üéÇ **age** | INT | NOT NULL | Required field |
| üíº **current_status** | VARCHAR(100) | NOT NULL, DEFAULT 'employed' | Required with default |

### üéØ **Business Rules:**
- ‚úÖ **Every employee must have** first and last name
- ‚ùì **Middle name is optional** - not everyone has one
- üî¢ **Age is required** - HR needs this information
- üíº **Status defaults to 'employed'** - new hires start employed
- üÜî **Auto-incrementing ID** - system assigns unique numbers

---

## ‚è∏Ô∏è PAUSE HERE - Try It Yourself First!

**üéØ Challenge:** Build the complete table before looking at the solution!

---

## ‚úÖ Solution Walkthrough

### üèóÔ∏è **Complete Table Creation:**

```sql
CREATE TABLE employees (
    id INT AUTO_INCREMENT PRIMARY KEY,
    last_name VARCHAR(100) NOT NULL,
    first_name VARCHAR(100) NOT NULL,
    middle_name VARCHAR(100),
    age INT NOT NULL,
    current_status VARCHAR(100) NOT NULL DEFAULT 'employed'
);
```

### üîç **Breaking Down Each Column:**

**üÜî ID Column (Auto-incrementing Primary Key):**
```sql
id INT AUTO_INCREMENT PRIMARY KEY
```
- üìä **INT** = Integer data type
- ‚ö° **AUTO_INCREMENT** = MySQL assigns 1, 2, 3, 4...
- üîë **PRIMARY KEY** = Unique identifier for each employee

**üë§ Required Name Fields:**
```sql
last_name VARCHAR(100) NOT NULL,
first_name VARCHAR(100) NOT NULL,
```
- üìù **VARCHAR(100)** = Text up to 100 characters
- üö´ **NOT NULL** = Cannot be empty (business requirement)

**üë§ Optional Middle Name:**
```sql
middle_name VARCHAR(100),
```
- üìù **VARCHAR(100)** = Text up to 100 characters
- ‚úÖ **No NOT NULL** = Can be empty (people without middle names)

**üéÇ Required Age:**
```sql
age INT NOT NULL,
```
- üî¢ **INT** = Whole numbers only
- üö´ **NOT NULL** = HR requires age information

**üíº Status with Default:**
```sql
current_status VARCHAR(100) NOT NULL DEFAULT 'employed'
```
- üìù **VARCHAR(100)** = Text for status descriptions
- üö´ **NOT NULL** = Must always have a status
- ‚ö° **DEFAULT 'employed'** = New employees start as employed

---

## üëÄ Verifying the Table Structure

### üìä **Check Your Work:**
```sql
mysql> DESC employees;
+----------------+--------------+------+-----+----------+----------------+
| Field          | Type         | Null | Key | Default  | Extra          |
+----------------+--------------+------+-----+----------+----------------+
| id             | int          | NO   | PRI | NULL     | auto_increment |
| last_name      | varchar(100) | NO   |     | NULL     |                |
| first_name     | varchar(100) | NO   |     | NULL     |                |
| middle_name    | varchar(100) | YES  |     | NULL     |                |
| age            | int          | NO   |     | NULL     |                |
| current_status | varchar(100) | NO   |     | employed |                |
+----------------+--------------+------+-----+----------+----------------+
```

### ‚úÖ **Verification Checklist:**
- üîë **id:** PRI key, auto_increment ‚úÖ
- üö´ **last_name:** Null = NO ‚úÖ
- üö´ **first_name:** Null = NO ‚úÖ
- ‚úÖ **middle_name:** Null = YES ‚úÖ
- üö´ **age:** Null = NO ‚úÖ
- ‚ö° **current_status:** Default = employed ‚úÖ

---

## üß™ Testing the Table

### üì• **Test 1: Minimal Required Data**
```sql
-- Insert employee with only required fields
INSERT INTO employees (first_name, last_name, age) 
VALUES ('Thomas', 'Chickenman', 87);
```

**Result:**
```sql
mysql> SELECT * FROM employees;
+----+-----------+------------+-------------+-----+----------------+
| id | last_name | first_name | middle_name | age | current_status |
+----+-----------+------------+-------------+-----+----------------+
| 1  | Chickenman| Thomas     | NULL        | 87  | employed       |
+----+-----------+------------+-------------+-----+----------------+
```

### üéØ **What Worked:**
- ‚ö° **ID auto-assigned:** 1 (AUTO_INCREMENT)
- üìù **Names inserted:** Thomas Chickenman
- ‚ùì **Middle name NULL:** No middle name provided (OK!)
- üéÇ **Age provided:** 87
- üíº **Status defaulted:** 'employed' (DEFAULT worked!)

---

### üì• **Test 2: Complete Employee Data**
```sql
-- Insert employee with all fields including middle name
INSERT INTO employees (first_name, middle_name, last_name, age, current_status) 
VALUES ('Jane', 'Elizabeth', 'Doe', 32, 'contractor');
```

**Result:**
```sql
mysql> SELECT * FROM employees;
+----+-----------+------------+-------------+-----+----------------+
| id | last_name | first_name | middle_name | age | current_status |
+----+-----------+------------+-------------+-----+----------------+
| 1  | Chickenman| Thomas     | NULL        | 87  | employed       |
| 2  | Doe       | Jane       | Elizabeth   | 32  | contractor     |
+----+-----------+------------+-------------+-----+----------------+
```

### üéØ **What Worked:**
- ‚ö° **ID auto-assigned:** 2 (continued incrementing)
- üë§ **Full name:** Jane Elizabeth Doe
- üíº **Custom status:** 'contractor' (overrode default)

---

### ‚ùå **Test 3: Constraint Violation**
```sql
-- Try to insert without required age field
INSERT INTO employees (first_name, last_name) 
VALUES ('Bob', 'Smith');
```

**Error:**
```sql
ERROR 1364 (HY000): Field 'age' doesn't have a default value
```

### üõ°Ô∏è **Protection Worked:**
- üö´ **Age is required** (NOT NULL constraint)
- üõ°Ô∏è **No bad data inserted** (table remains clean)
- ‚úÖ **Error prevents incomplete records**

---

## üß™ Testing AUTO_INCREMENT Behavior

### üîÑ **Multiple Identical Employees:**
```sql
-- Insert same employee multiple times
INSERT INTO employees (first_name, last_name, age) 
VALUES ('Thomas', 'Chickenman', 87);

INSERT INTO employees (first_name, last_name, age) 
VALUES ('Thomas', 'Chickenman', 87);

INSERT INTO employees (first_name, last_name, age) 
VALUES ('Thomas', 'Chickenman', 87);
```

**Result:**
```sql
mysql> SELECT * FROM employees;
+----+-----------+------------+-------------+-----+----------------+
| id | last_name | first_name | middle_name | age | current_status |
+----+-----------+------------+-------------+-----+----------------+
| 1  | Chickenman| Thomas     | NULL        | 87  | employed       |
| 2  | Doe       | Jane       | Elizabeth   | 32  | contractor     |
| 3  | Chickenman| Thomas     | NULL        | 87  | employed       |
| 4  | Chickenman| Thomas     | NULL        | 87  | employed       |
| 5  | Chickenman| Thomas     | NULL        | 87  | employed       |
+----+-----------+------------+-------------+-----+----------------+
```

### üéØ **Key Observations:**
- ‚úÖ **Unique IDs:** 1, 2, 3, 4, 5 (all different)
- üìä **Identical data allowed** (except for primary key)
- ‚ö° **AUTO_INCREMENT keeps working** seamlessly

---

## üé≠ Real-World Employee Scenarios

### üë• **Various Employee Types:**
```sql
-- Full-time employee with middle name
INSERT INTO employees (first_name, middle_name, last_name, age, current_status) 
VALUES ('John', 'Michael', 'Johnson', 45, 'employed');

-- Part-time contractor (no middle name)
INSERT INTO employees (first_name, last_name, age, current_status) 
VALUES ('Sarah', 'Wilson', 28, 'part-time');

-- Employee on leave
INSERT INTO employees (first_name, last_name, age, current_status) 
VALUES ('David', 'Brown', 35, 'on-leave');

-- Recent hire (uses default status)
INSERT INTO employees (first_name, last_name, age) 
VALUES ('Emily', 'Davis', 29);
```

### üìä **Realistic Data Patterns:**
```sql
mysql> SELECT id, first_name, last_name, current_status FROM employees;
+----+------------+----------+----------------+
| id | first_name | last_name | current_status |
+----+------------+----------+----------------+
| 1  | Thomas     | Chickenman| employed       |
| 2  | Jane       | Doe       | contractor     |
| 3  | John       | Johnson   | employed       |
| 4  | Sarah      | Wilson    | part-time      |
| 5  | David      | Brown     | on-leave       |
| 6  | Emily      | Davis     | employed       |  ‚Üê Default used
+----+------------+----------+----------------+
```

---

## üíº Business Logic Validation

### ‚úÖ **Good Data Scenarios:**

**New hire (minimal data):**
```sql
INSERT INTO employees (first_name, last_name, age) 
VALUES ('Alex', 'Taylor', 30);
-- Status automatically set to 'employed' ‚úÖ
```

**Employee with middle name:**
```sql
INSERT INTO employees (first_name, middle_name, last_name, age) 
VALUES ('Maria', 'Elena', 'Rodriguez', 28);
-- All data properly stored ‚úÖ
```

**Status change (contractor):**
```sql
INSERT INTO employees (first_name, last_name, age, current_status) 
VALUES ('Robert', 'Lee', 42, 'contractor');
-- Custom status overrides default ‚úÖ
```

### ‚ùå **Invalid Data Scenarios:**

**Missing required fields:**
```sql
-- Missing age
INSERT INTO employees (first_name, last_name) VALUES ('Invalid', 'Employee');
-- ERROR: age required ‚ùå

-- Missing last name  
INSERT INTO employees (first_name, age) VALUES ('Invalid', 25);
-- ERROR: last_name required ‚ùå

-- Missing first name
INSERT INTO employees (last_name, age) VALUES ('Invalid', 25);
-- ERROR: first_name required ‚ùå
```

---

## üîß Alternative Implementation Approaches

### üé® **Different Syntax Styles:**

**Method 1: Inline PRIMARY KEY (used in solution):**
```sql
CREATE TABLE employees (
    id INT AUTO_INCREMENT PRIMARY KEY,
    -- other columns...
);
```

**Method 2: Separate PRIMARY KEY declaration:**
```sql
CREATE TABLE employees (
    id INT AUTO_INCREMENT,
    last_name VARCHAR(100) NOT NULL,
    first_name VARCHAR(100) NOT NULL,
    middle_name VARCHAR(100),
    age INT NOT NULL,
    current_status VARCHAR(100) NOT NULL DEFAULT 'employed',
    PRIMARY KEY (id)
);
```

**Method 3: With explicit NOT NULL (redundant but valid):**
```sql
CREATE TABLE employees (
    id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    -- other columns...
);
```

---

## üìö Concepts Reinforced

### ‚úÖ **Skills Demonstrated:**

**1. üèóÔ∏è Table Structure Design:**
- üéØ **Logical column organization**
- üìä **Appropriate data types**
- üé® **Consistent naming conventions**

**2. üõ°Ô∏è Constraint Implementation:**
- üîë **PRIMARY KEY** for unique identification
- ‚ö° **AUTO_INCREMENT** for automatic numbering
- üö´ **NOT NULL** for required fields
- ‚ö° **DEFAULT** for automatic values

**3. üíº Business Rule Enforcement:**
- ‚úÖ **Required vs optional fields**
- üéØ **Sensible default values**
- üìä **Real-world data scenarios**

**4. üß™ Testing and Validation:**
- ‚úÖ **Valid data insertion**
- ‚ùå **Constraint violation testing**
- üîç **Table structure verification**

---

## üéØ Key Takeaways

### ‚úÖ **Essential Table Design Knowledge:**
1. ‚ö° **AUTO_INCREMENT PRIMARY KEY** = Standard for unique IDs
2. üö´ **NOT NULL** = Enforce required business data
3. ‚ö° **DEFAULT values** = Sensible fallbacks for common cases
4. ‚ùì **Optional fields** = Allow NULL when appropriate
5. üß™ **Always test** = Verify constraints work as expected

### üí° **Professional Database Design:**
- ü§î **Think like HR:** What data is truly required?
- üéØ **Plan for reality:** Not everyone has middle names
- ‚ö° **Automate when possible:** IDs, timestamps, status defaults
- üõ°Ô∏è **Protect data integrity:** Use constraints to prevent bad data
- üìù **Document decisions:** Make business rules clear

### üîÆ **Building Toward Real Applications:**
This employee table demonstrates patterns you'll use everywhere:
- üë• **User management systems**
- üõí **Customer databases**
- üì¶ **Product catalogs**
- üìö **Content management**

---

## üß™ Extension Exercises

### üéØ **Try These Variations:**

**Enhanced Employee Table:**
```sql
CREATE TABLE employees_v2 (
    id INT AUTO_INCREMENT PRIMARY KEY,
    employee_number VARCHAR(20) UNIQUE,
    first_name VARCHAR(100) NOT NULL,
    middle_name VARCHAR(100),
    last_name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE,
    department VARCHAR(50) DEFAULT 'unassigned',
    hire_date DATE DEFAULT (CURRENT_DATE),
    salary DECIMAL(10,2),
    current_status VARCHAR(100) NOT NULL DEFAULT 'employed'
);
```

**Customer Table:**
```sql
CREATE TABLE customers (
    customer_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE,
    phone VARCHAR(20),
    status VARCHAR(20) DEFAULT 'active',
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

**üéâ Congratulations! You've built a professional-grade employee management table!**

*You've successfully combined AUTO_INCREMENT, PRIMARY KEY, NOT NULL, and DEFAULT constraints to create a robust, real-world database structure!* üí™

**Next up: Advanced data retrieval and manipulation techniques!** üîç

Similar code found with 1 license type
