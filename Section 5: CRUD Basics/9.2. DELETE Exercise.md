## 🗑️ Time to Practice Safe Data Removal!

---

## 🎯 Exercise Setup

### 📊 **Verify Your Starting Data:**
Make sure you have the standard dataset (with any previous updates):

```sql
mysql> SELECT * FROM cats;
+--------+---------------+-----------+-----+
| cat_id | name          | breed     | age |
+--------+---------------+-----------+-----+
| 1      | Ringo         | Tabby     | 4   |
| 2      | Cindy         | Maine Coon| 10  |
| 3      | Dumbledore    | Maine Coon| 11  |
| 4      | Egg           | Persian   | 4   |
| 5      | Misty         | Tabby     | 13  |
| 6      | George Michael| Ragdoll   | 9   |
| 7      | Jackson       | Sphynx    | 7   |
+--------+---------------+-----------+-----+
```

**📝 Note:** Your data might look slightly different if you completed the previous UPDATE exercises. That's fine - these DELETE exercises will work with whatever cats you have!

---

## 🏆 Exercise 1: Delete All 4-Year-Old Cats

### 🎯 **Task:** 
Remove **all cats that are 4 years old**

### 🔍 **Step 1: Test Your WHERE Clause**
```sql
-- Find all 4-year-old cats first
SELECT * FROM cats WHERE age = 4;
```

**Expected result (may vary based on your updates):**
```sql
+--------+-------+---------+-----+
| cat_id | name  | breed   | age |
+--------+-------+---------+-----+
| 1      | Ringo | Tabby   | 4   |
| 4      | Egg   | Persian | 4   |
+--------+-------+---------+-----+
```

### 🗑️ **Step 2: Write the DELETE**
**Your task:** Write the DELETE query to remove all 4-year-old cats

### 💭 **Think About:**
- 🎂 Which column do you filter by?
- 🔢 What's the age value you're targeting?
- 📊 How many cats should be deleted?
- 🧪 Did you test with SELECT first?

---

## 🏆 Exercise 2: Delete Cats Where Age Equals Cat ID

### 🎯 **Task:** 
Remove **cats where their age matches their cat_id**

### 🔍 **Step 1: Test Your WHERE Clause**
```sql
-- Find cats where age equals cat_id
SELECT * FROM cats WHERE age = cat_id;
```

**Expected result (will vary):**
```sql
+--------+---------+--------+-----+
| cat_id | name    | breed  | age |
+--------+---------+--------+-----+
| 7      | Jackson | Sphynx | 7   |
+--------+---------+--------+-----+
```

**🎯 Analysis of our data:**
```
Ringo:         cat_id=1, age=4   → 1≠4  ❌
Cindy:         cat_id=2, age=10  → 2≠10 ❌  
Dumbledore:    cat_id=3, age=11  → 3≠11 ❌
Egg:           cat_id=4, age=4   → 4=4  ✅
Misty:         cat_id=5, age=13  → 5≠13 ❌
George Michael: cat_id=6, age=9  → 6≠9  ❌
Jackson:       cat_id=7, age=7   → 7=7  ✅
```

### 🗑️ **Step 2: Write the DELETE**
**Your task:** Write the DELETE query using column-to-column comparison

### 💭 **Think About:**
- 🧮 How do you compare two columns in the same row?
- 🚫 **Don't hardcode** names or specific values
- 📊 The query should work regardless of how many matches exist
- 🎯 This should be a dynamic condition, not specific to Jackson

### 💡 **Key Concept:**
This exercise teaches **column-to-column comparison** - a powerful SQL technique!

---

## 🏆 Exercise 3: Delete All Remaining Cats

### 🎯 **Task:** 
**Empty the table** but **keep the table structure**

### 🔍 **Step 1: See What's Left**
```sql
-- Check remaining cats after previous deletions
SELECT * FROM cats;
```

### 🗑️ **Step 2: Write the DELETE**
**Your task:** Write the DELETE query to remove ALL remaining cats

### 💭 **Think About:**
- 🌟 How do you delete ALL rows without dropping the table?
- 🔍 Do you need a WHERE clause for this?
- 🏗️ What's the difference between DELETE and DROP TABLE?

### ⚠️ **Important Distinction:**
- 🗑️ **DELETE FROM cats** - removes all data, keeps table structure
- 💥 **DROP TABLE cats** - removes table entirely (don't do this!)

---

## ⏸️ PAUSE HERE - Try All Three Exercises!

**🎯 Important:** Complete all three exercises in order before looking at the solutions!

### 📝 **Remember the Safe Process:**
1. 🔍 **SELECT first** - test your WHERE clause  
2. 🗑️ **DELETE second** - apply the removal
3. 👀 **SELECT again** - verify the deletion worked

---

## 🧠 Skills Being Practiced

### ✅ **Core DELETE Patterns:**

**Age-Based Filtering:**
```sql
-- Pattern: Delete by numeric value
DELETE FROM table WHERE numeric_column = value;
```

**Column-to-Column Comparison:**
```sql
-- Pattern: Delete where two columns match
DELETE FROM table WHERE column1 = column2;
```

**Complete Table Emptying:**
```sql
-- Pattern: Remove all data, keep structure
DELETE FROM table;
```

---

## 🌍 Real-World Equivalents

### 💼 **These Exercises Mirror:**

**Exercise 1 - Criteria-Based Cleanup:**
- 🧹 **Remove old records** - delete orders older than 1 year
- 👤 **Inactive user cleanup** - remove accounts not used in 6 months
- 📦 **Inventory management** - remove products with 0 stock

**Exercise 2 - Data Quality Cleanup:**
- 🔍 **Duplicate detection** - find records where ID matches another field
- 📊 **Data validation** - remove records where calculated field equals stored field
- 🧮 **Consistency checks** - delete records where two related fields match unexpectedly

**Exercise 3 - Complete Data Reset:**
- 🔄 **System resets** - clear all temporary data
- 🧪 **Testing environments** - empty tables for fresh test data
- 📊 **Batch processing** - clear staging tables before new import

---

## 🎯 Success Criteria

### ✅ **You'll Know You Succeeded When:**

**After Exercise 1:**
```sql
SELECT * FROM cats WHERE age = 4;
-- Should return: Empty set (0.00 sec)
```

**After Exercise 2:**
```sql
SELECT * FROM cats WHERE age = cat_id;
-- Should return: Empty set (0.00 sec)
```

**After Exercise 3:**
```sql
SELECT * FROM cats;
-- Should return: Empty set (0.00 sec)

DESC cats;
-- Should still show table structure exists
```

---

## ⚠️ Common Pitfalls to Avoid

### 🚨 **Watch Out For:**

**Forgetting FROM keyword:**
```sql
-- ❌ WRONG - Missing FROM
DELETE cats WHERE age = 4;

-- ✅ RIGHT - Includes FROM
DELETE FROM cats WHERE age = 4;
```

**Using DROP instead of DELETE:**
```sql
-- ❌ WRONG - Removes table entirely!
DROP TABLE cats;

-- ✅ RIGHT - Empties table, keeps structure
DELETE FROM cats;
```

**Hardcoding specific values:**
```sql
-- ❌ Wrong for Exercise 2 - too specific
DELETE FROM cats WHERE name = 'Jackson';

-- ✅ Right for Exercise 2 - dynamic condition
DELETE FROM cats WHERE age = cat_id;
```

**Not testing first:**
```sql
-- ❌ Dangerous - diving straight into deletion
DELETE FROM cats WHERE age = cat_id;

-- ✅ Safe - test first
SELECT * FROM cats WHERE age = cat_id;  -- Then delete
```

---

## 📊 Understanding Query Results

### 🔍 **Pay Attention To:**

**Rows Affected Messages:**
```sql
mysql> DELETE FROM cats WHERE age = 4;
Query OK, 2 rows affected (0.01 sec)
-- This tells you exactly how many cats were deleted
```

**Empty Set Results:**
```sql
mysql> SELECT * FROM cats WHERE age = 4;
Empty set (0.00 sec)
-- Confirms the deletion worked
```

**Table Structure Verification:**
```sql
mysql> DESC cats;
-- Should still show all columns after DELETE FROM cats
-- If this fails, you accidentally dropped the table!
```

---

## 🧪 Verification Strategies

### 📊 **Test Your Deletions:**

**Count remaining cats:**
```sql
-- After each exercise, check how many are left
SELECT COUNT(*) FROM cats;
```

**Check specific conditions:**
```sql
-- Verify Exercise 1 worked
SELECT COUNT(*) FROM cats WHERE age = 4;  -- Should be 0

-- Verify Exercise 2 worked  
SELECT COUNT(*) FROM cats WHERE age = cat_id;  -- Should be 0
```

**Confirm table still exists:**
```sql
-- After Exercise 3
SHOW TABLES;  -- Should still show 'cats'
DESC cats;    -- Should show table structure
```

---

## 🎯 Learning Objectives

### 💪 **Skills You're Building:**

**🎯 Conditional Deletion:**
- 🔍 Using WHERE clauses to target specific rows
- 📊 Understanding how conditions filter data
- 🧮 Working with numeric comparisons

**🧮 Advanced Filtering:**
- 🔗 Column-to-column comparisons
- 💡 Dynamic conditions that adapt to data
- 📈 Complex logical relationships

**🗑️ Complete Data Management:**
- 🧹 Emptying tables safely
- 🏗️ Preserving table structure
- 🔄 Understanding DELETE vs DROP differences

---

## 🔮 Real-World Applications

### 💼 **These Skills Enable:**

**Data Maintenance:**
```sql
-- Remove old audit logs
DELETE FROM audit_logs WHERE created_date < DATE_SUB(NOW(), INTERVAL 90 DAY);

-- Clean up test data
DELETE FROM users WHERE email LIKE '%@test.com';
```

**Business Logic:**
```sql
-- Remove cancelled orders
DELETE FROM orders WHERE status = 'cancelled' AND order_date < '2023-01-01';

-- Archive old campaigns
DELETE FROM marketing_campaigns WHERE end_date < NOW() AND archived = FALSE;
```

**System Maintenance:**
```sql
-- Clear temporary files
DELETE FROM temp_uploads WHERE created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR);

-- Remove orphaned records
DELETE FROM user_sessions WHERE user_id NOT IN (SELECT user_id FROM users);
```

---

**🎉 Ready to practice the final CRUD operation? These DELETE exercises will complete your data management toolkit!**

*Remember: DELETE is permanent - always SELECT first to verify your targets!* 🔍🗑️

**Try all three exercises, then check your solutions in the next video!** 🚀

---

**💡 Pro Tip: The "rows affected" message is your friend - it tells you exactly how many records were deleted. If this number surprises you, investigate before proceeding!**
