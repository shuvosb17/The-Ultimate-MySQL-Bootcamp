## ğŸ—‘ï¸ Time to Practice Safe Data Removal!

---

## ğŸ¯ Exercise Setup

### ğŸ“Š **Verify Your Starting Data:**
Make sure you have the standard dataset (with any previous updates):

```sql
mysql> SELECT * FROM cats;
+--------+---------------+-----------+-----+
| cat_id | name          | breed     | age |
+--------+---------------+-----------+-----+
| 1      | Ringo         | Tabby     | 4   |
| 2      | Cindy         | Maine Coon| 10  |
| 3      | Dumbledore    | Maine Coon| 11  |
| 4      | Egg           | Persian   | 4   |
| 5      | Misty         | Tabby     | 13  |
| 6      | George Michael| Ragdoll   | 9   |
| 7      | Jackson       | Sphynx    | 7   |
+--------+---------------+-----------+-----+
```

**ğŸ“ Note:** Your data might look slightly different if you completed the previous UPDATE exercises. That's fine - these DELETE exercises will work with whatever cats you have!

---

## ğŸ† Exercise 1: Delete All 4-Year-Old Cats

### ğŸ¯ **Task:** 
Remove **all cats that are 4 years old**

### ğŸ” **Step 1: Test Your WHERE Clause**
```sql
-- Find all 4-year-old cats first
SELECT * FROM cats WHERE age = 4;
```

**Expected result (may vary based on your updates):**
```sql
+--------+-------+---------+-----+
| cat_id | name  | breed   | age |
+--------+-------+---------+-----+
| 1      | Ringo | Tabby   | 4   |
| 4      | Egg   | Persian | 4   |
+--------+-------+---------+-----+
```

### ğŸ—‘ï¸ **Step 2: Write the DELETE**
**Your task:** Write the DELETE query to remove all 4-year-old cats

### ğŸ’­ **Think About:**
- ğŸ‚ Which column do you filter by?
- ğŸ”¢ What's the age value you're targeting?
- ğŸ“Š How many cats should be deleted?
- ğŸ§ª Did you test with SELECT first?

---

## ğŸ† Exercise 2: Delete Cats Where Age Equals Cat ID

### ğŸ¯ **Task:** 
Remove **cats where their age matches their cat_id**

### ğŸ” **Step 1: Test Your WHERE Clause**
```sql
-- Find cats where age equals cat_id
SELECT * FROM cats WHERE age = cat_id;
```

**Expected result (will vary):**
```sql
+--------+---------+--------+-----+
| cat_id | name    | breed  | age |
+--------+---------+--------+-----+
| 7      | Jackson | Sphynx | 7   |
+--------+---------+--------+-----+
```

**ğŸ¯ Analysis of our data:**
```
Ringo:         cat_id=1, age=4   â†’ 1â‰ 4  âŒ
Cindy:         cat_id=2, age=10  â†’ 2â‰ 10 âŒ  
Dumbledore:    cat_id=3, age=11  â†’ 3â‰ 11 âŒ
Egg:           cat_id=4, age=4   â†’ 4=4  âœ…
Misty:         cat_id=5, age=13  â†’ 5â‰ 13 âŒ
George Michael: cat_id=6, age=9  â†’ 6â‰ 9  âŒ
Jackson:       cat_id=7, age=7   â†’ 7=7  âœ…
```

### ğŸ—‘ï¸ **Step 2: Write the DELETE**
**Your task:** Write the DELETE query using column-to-column comparison

### ğŸ’­ **Think About:**
- ğŸ§® How do you compare two columns in the same row?
- ğŸš« **Don't hardcode** names or specific values
- ğŸ“Š The query should work regardless of how many matches exist
- ğŸ¯ This should be a dynamic condition, not specific to Jackson

### ğŸ’¡ **Key Concept:**
This exercise teaches **column-to-column comparison** - a powerful SQL technique!

---

## ğŸ† Exercise 3: Delete All Remaining Cats

### ğŸ¯ **Task:** 
**Empty the table** but **keep the table structure**

### ğŸ” **Step 1: See What's Left**
```sql
-- Check remaining cats after previous deletions
SELECT * FROM cats;
```

### ğŸ—‘ï¸ **Step 2: Write the DELETE**
**Your task:** Write the DELETE query to remove ALL remaining cats

### ğŸ’­ **Think About:**
- ğŸŒŸ How do you delete ALL rows without dropping the table?
- ğŸ” Do you need a WHERE clause for this?
- ğŸ—ï¸ What's the difference between DELETE and DROP TABLE?

### âš ï¸ **Important Distinction:**
- ğŸ—‘ï¸ **DELETE FROM cats** - removes all data, keeps table structure
- ğŸ’¥ **DROP TABLE cats** - removes table entirely (don't do this!)

---

## â¸ï¸ PAUSE HERE - Try All Three Exercises!

**ğŸ¯ Important:** Complete all three exercises in order before looking at the solutions!

### ğŸ“ **Remember the Safe Process:**
1. ğŸ” **SELECT first** - test your WHERE clause  
2. ğŸ—‘ï¸ **DELETE second** - apply the removal
3. ğŸ‘€ **SELECT again** - verify the deletion worked

---

## ğŸ§  Skills Being Practiced

### âœ… **Core DELETE Patterns:**

**Age-Based Filtering:**
```sql
-- Pattern: Delete by numeric value
DELETE FROM table WHERE numeric_column = value;
```

**Column-to-Column Comparison:**
```sql
-- Pattern: Delete where two columns match
DELETE FROM table WHERE column1 = column2;
```

**Complete Table Emptying:**
```sql
-- Pattern: Remove all data, keep structure
DELETE FROM table;
```

---

## ğŸŒ Real-World Equivalents

### ğŸ’¼ **These Exercises Mirror:**

**Exercise 1 - Criteria-Based Cleanup:**
- ğŸ§¹ **Remove old records** - delete orders older than 1 year
- ğŸ‘¤ **Inactive user cleanup** - remove accounts not used in 6 months
- ğŸ“¦ **Inventory management** - remove products with 0 stock

**Exercise 2 - Data Quality Cleanup:**
- ğŸ” **Duplicate detection** - find records where ID matches another field
- ğŸ“Š **Data validation** - remove records where calculated field equals stored field
- ğŸ§® **Consistency checks** - delete records where two related fields match unexpectedly

**Exercise 3 - Complete Data Reset:**
- ğŸ”„ **System resets** - clear all temporary data
- ğŸ§ª **Testing environments** - empty tables for fresh test data
- ğŸ“Š **Batch processing** - clear staging tables before new import

---

## ğŸ¯ Success Criteria

### âœ… **You'll Know You Succeeded When:**

**After Exercise 1:**
```sql
SELECT * FROM cats WHERE age = 4;
-- Should return: Empty set (0.00 sec)
```

**After Exercise 2:**
```sql
SELECT * FROM cats WHERE age = cat_id;
-- Should return: Empty set (0.00 sec)
```

**After Exercise 3:**
```sql
SELECT * FROM cats;
-- Should return: Empty set (0.00 sec)

DESC cats;
-- Should still show table structure exists
```

---

## âš ï¸ Common Pitfalls to Avoid

### ğŸš¨ **Watch Out For:**

**Forgetting FROM keyword:**
```sql
-- âŒ WRONG - Missing FROM
DELETE cats WHERE age = 4;

-- âœ… RIGHT - Includes FROM
DELETE FROM cats WHERE age = 4;
```

**Using DROP instead of DELETE:**
```sql
-- âŒ WRONG - Removes table entirely!
DROP TABLE cats;

-- âœ… RIGHT - Empties table, keeps structure
DELETE FROM cats;
```

**Hardcoding specific values:**
```sql
-- âŒ Wrong for Exercise 2 - too specific
DELETE FROM cats WHERE name = 'Jackson';

-- âœ… Right for Exercise 2 - dynamic condition
DELETE FROM cats WHERE age = cat_id;
```

**Not testing first:**
```sql
-- âŒ Dangerous - diving straight into deletion
DELETE FROM cats WHERE age = cat_id;

-- âœ… Safe - test first
SELECT * FROM cats WHERE age = cat_id;  -- Then delete
```

---

## ğŸ“Š Understanding Query Results

### ğŸ” **Pay Attention To:**

**Rows Affected Messages:**
```sql
mysql> DELETE FROM cats WHERE age = 4;
Query OK, 2 rows affected (0.01 sec)
-- This tells you exactly how many cats were deleted
```

**Empty Set Results:**
```sql
mysql> SELECT * FROM cats WHERE age = 4;
Empty set (0.00 sec)
-- Confirms the deletion worked
```

**Table Structure Verification:**
```sql
mysql> DESC cats;
-- Should still show all columns after DELETE FROM cats
-- If this fails, you accidentally dropped the table!
```

---

## ğŸ§ª Verification Strategies

### ğŸ“Š **Test Your Deletions:**

**Count remaining cats:**
```sql
-- After each exercise, check how many are left
SELECT COUNT(*) FROM cats;
```

**Check specific conditions:**
```sql
-- Verify Exercise 1 worked
SELECT COUNT(*) FROM cats WHERE age = 4;  -- Should be 0

-- Verify Exercise 2 worked  
SELECT COUNT(*) FROM cats WHERE age = cat_id;  -- Should be 0
```

**Confirm table still exists:**
```sql
-- After Exercise 3
SHOW TABLES;  -- Should still show 'cats'
DESC cats;    -- Should show table structure
```

---

## ğŸ¯ Learning Objectives

### ğŸ’ª **Skills You're Building:**

**ğŸ¯ Conditional Deletion:**
- ğŸ” Using WHERE clauses to target specific rows
- ğŸ“Š Understanding how conditions filter data
- ğŸ§® Working with numeric comparisons

**ğŸ§® Advanced Filtering:**
- ğŸ”— Column-to-column comparisons
- ğŸ’¡ Dynamic conditions that adapt to data
- ğŸ“ˆ Complex logical relationships

**ğŸ—‘ï¸ Complete Data Management:**
- ğŸ§¹ Emptying tables safely
- ğŸ—ï¸ Preserving table structure
- ğŸ”„ Understanding DELETE vs DROP differences

---

## ğŸ”® Real-World Applications

### ğŸ’¼ **These Skills Enable:**

**Data Maintenance:**
```sql
-- Remove old audit logs
DELETE FROM audit_logs WHERE created_date < DATE_SUB(NOW(), INTERVAL 90 DAY);

-- Clean up test data
DELETE FROM users WHERE email LIKE '%@test.com';
```

**Business Logic:**
```sql
-- Remove cancelled orders
DELETE FROM orders WHERE status = 'cancelled' AND order_date < '2023-01-01';

-- Archive old campaigns
DELETE FROM marketing_campaigns WHERE end_date < NOW() AND archived = FALSE;
```

**System Maintenance:**
```sql
-- Clear temporary files
DELETE FROM temp_uploads WHERE created_at < DATE_SUB(NOW(), INTERVAL 24 HOUR);

-- Remove orphaned records
DELETE FROM user_sessions WHERE user_id NOT IN (SELECT user_id FROM users);
```

---

**ğŸ‰ Ready to practice the final CRUD operation? These DELETE exercises will complete your data management toolkit!**

*Remember: DELETE is permanent - always SELECT first to verify your targets!* ğŸ”ğŸ—‘ï¸

**Try all three exercises, then check your solutions in the next video!** ğŸš€

---

**ğŸ’¡ Pro Tip: The "rows affected" message is your friend - it tells you exactly how many records were deleted. If this number surprises you, investigate before proceeding!**
