## ‚úÇÔ∏è Extracting Portions of Text

---

## üéØ What is SUBSTRING?

**SUBSTRING** extracts a smaller piece from a larger string.

- Take the first 5 characters
- Get the last character  
- Extract the middle 10 characters
- Any portion you need!

### üìù Basic Syntax
```sql
SUBSTRING(string, starting_position, length)
```

---

## üî¢ Understanding Positions and Length

### üìç Position Counting (Starts at 1)
```
'Hello World'
 123456789...
```

### ‚úÇÔ∏è Basic Examples
```sql
SELECT SUBSTRING('Hello World', 1, 4);  -- Result: Hell
SELECT SUBSTRING('Hello World', 1, 6);  -- Result: Hello (includes space)
SELECT SUBSTRING('Hello World', 2, 4);  -- Result: ello
```

**Key Points:**
- **First number**: Starting position (1 = first character)
- **Second number**: Length (how many characters to take)
- Spaces count as characters!

---

## üéØ Two Ways to Use SUBSTRING

### 1Ô∏è‚É£ **With Length Specified**
```sql
SELECT SUBSTRING('Hello World', 7, 2);  -- Result: Wo
```
- Starts at position 7, takes exactly 2 characters

### 2Ô∏è‚É£ **Without Length (Go to End)**
```sql
SELECT SUBSTRING('Hello World', 7);     -- Result: World
```
- Starts at position 7, continues to the end of string

---

## ‚¨ÖÔ∏è Negative Positions (Count Backwards)

```sql
SELECT SUBSTRING('Hello World', -3);    -- Result: rld
SELECT SUBSTRING('Hello World', -1);    -- Result: d (last character)
SELECT SUBSTRING('Hello World', -2, 1); -- Result: l (second to last, length 1)
```

**Negative positions:**
- `-1` = last character
- `-2` = second to last character
- Then goes **forward** for the specified length

---

## üìö Real-World Examples with Books Data

### üìñ **Abbreviate Long Titles**
```sql
SELECT SUBSTRING(title, 1, 15) FROM books;
```
**Results:**
- "The Namesake" ‚Üí "The Namesake"
- "What We Talk About When We Talk About Love: Stories" ‚Üí "What We Talk Ab"

### üî§ **Get Author Last Name Initial**
```sql
SELECT 
    SUBSTRING(author_lname, 1, 1) AS initial,
    author_lname
FROM books;
```
**Results:**
- L, Lahiri
- G, Gaiman  
- E, Eggers

---

## ‚ö° Shorthand Version: SUBSTR

**SUBSTR** is identical to SUBSTRING, just shorter to type:

```sql
-- These are exactly the same:
SELECT SUBSTRING(title, 1, 10) FROM books;
SELECT SUBSTR(title, 1, 10) FROM books;
```

---

## üéØ Common Use Cases

### üì± **Mobile Display (Truncate Long Text)**
```sql
SELECT SUBSTR(title, 1, 20) AS short_title FROM books;
```

### üî§ **Extract Initials**
```sql
SELECT 
    SUBSTR(author_fname, 1, 1) AS first_initial,
    SUBSTR(author_lname, 1, 1) AS last_initial
FROM books;
```

### üìÑ **Get File Extensions (Last 3 Characters)**
```sql
SELECT SUBSTR(filename, -3) AS extension FROM files;
```

---

## üß† Key Points to Remember

1. **Position starts at 1** (not 0 like many programming languages)
2. **Spaces count as characters**
3. **Length is optional** - without it, goes to end of string
4. **Negative positions** count backwards from the end
5. **SUBSTR = SUBSTRING** (just shorter)
6. **Use AS** to give your result column a friendly name

---

## üîÆ Coming Up Next

**Combining SUBSTRING with CONCAT** for even more powerful text manipulation!

- Create formatted displays
- Build custom text combinations  
- Advanced string processing techniques

---

**üéâ You now know how to extract any portion of text from your data!**

*SUBSTRING is essential for text processing, mobile optimization, and creating user-friendly displays!* ‚úÇÔ∏è
